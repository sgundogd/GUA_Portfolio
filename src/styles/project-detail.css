/* =========================
   Project Detail — Textless Gallery + Lightbox
========================= */

.pd .pd-bar{
  display:flex; align-items:center; gap:12px; margin-bottom:12px;
}

/* Kare/serbest oran — görseller karışık olabilir, grid oldukları gibi görünür */
.pd-grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: clamp(10px, 1.8vw, 14px);
  --pd-ratio: 4 / 5;            /* <— oran buradan kontrol */
}

/* Kartın yüksekliğini oranla kilitle */
.pd-tile{
  position: relative;
  aspect-ratio: var(--pd-ratio); /* <— tüm kartlar aynı yükseklikte */
  padding:0; border:0; background:transparent; cursor:pointer;
  border-radius:14px; overflow:hidden;
  border:1px solid var(--stroke);
  transition: transform .35s ease, box-shadow .35s ease, border-color .3s ease;
}

/* Görseli kutuya kırparak güzel doldur */
.pd-tile img{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit: cover;
  display:block;
  transition: transform .6s ease;
}

@media (max-width: 1200px){ .pd-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 720px){  .pd-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 480px){  .pd-grid{ grid-template-columns: 1fr; } }
.pd-tile:hover{ transform: translateY(-3px); border-color: rgba(255,255,255,.16); box-shadow: 0 14px 40px rgba(0,0,0,.35); }
.pd-tile:hover img{ transform: scale(1.04); }

/* -------- Lightbox: full-viewport, no crop -------- */
.lb{
  position: fixed; inset: 0; z-index: 1000;
  background: rgba(0,0,0,.75);
  backdrop-filter: blur(2px);
  /* paddingsız tam ekran; safe area kadar nefes bırak */
  padding: calc(env(safe-area-inset-top, 0px)) calc(env(safe-area-inset-right, 0px))
           calc(env(safe-area-inset-bottom, 0px)) calc(env(safe-area-inset-left, 0px));
  display: grid; place-items: center;
}

/* Kutu = tam viewport; içinde flex ile ortaya yerleştir */
.lb-inner{
  position: fixed; inset: 0;
  display: flex; align-items: center; justify-content: center;
  pointer-events: none;            /* tıklama img ve butonlara gitsin */
}

/* Görsel: kırpmadan sığdır (contain) */
.lb-inner img{
  width: auto; height: auto; display: block;
  max-width: calc(100vw - 32px - env(safe-area-inset-left) - env(safe-area-inset-right));
  max-height: calc(100vh - 32px - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  object-fit: contain;             /* kritik: kırpma yok */
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,.1);
  background:#0b0b0b;
  pointer-events: auto;
}

/* Kontroller kadraj içinde kalsın */
.lb-close,
.lb-prev,
.lb-next{
  position:absolute; display:grid; place-items:center;
  width:42px; height:42px; border-radius:50%;
  border:1px solid rgba(255,255,255,.2);
  background: rgba(17,17,17,.6);
  color: var(--porcelain);
  cursor:pointer; pointer-events: auto;
  transition: background .25s ease, transform .2s ease;
}

.lb-close{ top: 16px; right: 16px; }
.lb-prev { left: 16px;  top: 50%; transform: translateY(-50%); }
.lb-next { right: 16px; top: 50%; transform: translateY(-50%); }

.lb-close:hover, .lb-prev:hover, .lb-next:hover{ background: rgba(17,17,17,.78); }

@media (max-width: 720px){
  .lb-close{ top: 10px; right: 10px; }
  .lb-prev { left: 10px; }
  .lb-next { right: 10px; }
}
